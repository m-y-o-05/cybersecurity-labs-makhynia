/*
 * ReportGenerator.cpp.
 *
 * –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó HTML-–∑–≤—ñ—Ç—ñ–≤ –ø—Ä–æ –∞–Ω–∞–ª—ñ–∑ –ø–∞—Ä–æ–ª—ñ–≤.
 * –ú—ñ—Å—Ç–∏—Ç—å –º–µ—Ç–æ–¥–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∞–Ω–∞–ª—ñ–∑—É —É —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π HTML.
 */

#include "ReportGenerator.h"
#include "UIStyleManager.h"

/**
 * @brief –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –æ—Ü—ñ–Ω–∫–∏ –∑ –µ–º–æ–¥–∂—ñ-—ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º.
 * @param score –ß–∏—Å–ª–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ –≤—ñ–¥ 1 –¥–æ 10.
 * @return –†—è–¥–æ–∫ —Ñ–æ—Ä–º–∞—Ç—É "–µ–º–æ–¥–∂—ñ –æ—Ü—ñ–Ω–∫–∞/10".
 *
 * –§—É–Ω–∫—Ü—ñ—è –¥–æ–¥–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –µ–º–æ–¥–∂—ñ –¥–æ –æ—Ü—ñ–Ω–∫–∏ –¥–ª—è –∫—Ä–∞—â–æ—ó
 * –≤—ñ–∑—É–∞–ª—å–Ω–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó —Ä—ñ–≤–Ω—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—è.
 *
 * –ï–º–æ–¥–∂—ñ –ø—ñ–¥–±–∏—Ä–∞—é—Ç—å—Å—è –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º:
 * - –ß–µ—Ä–≤–æ–Ω—ñ/–ø–æ–ø–µ—Ä–µ–¥–∂—É–≤–∞–ª—å–Ω—ñ –¥–ª—è —Å–ª–∞–±–∫–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ (1-5).
 * - –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ñ/–ø–æ–∑–∏—Ç–∏–≤–Ω—ñ –¥–ª—è —Å–µ—Ä–µ–¥–Ω—ñ—Ö –ø–∞—Ä–æ–ª—ñ–≤ (6-7).
 * - –ó–µ–ª–µ–Ω—ñ/–≤—ñ–¥–º—ñ–Ω–Ω—ñ –¥–ª—è –Ω–∞–¥—ñ–π–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ (8-10).
 */
QString ReportGenerator::formatScore(int score) {
    QString emoji;

    // –í–∏–±—ñ—Ä –µ–º–æ–¥–∂—ñ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –æ—Ü—ñ–Ω–∫–∏.
    if (score <= 3) {
        emoji = "‚ùå";       // –î—É–∂–µ —Å–ª–∞–±–∫–∏–π - —á–µ—Ä–≤–æ–Ω–∏–π —Ö—Ä–µ—Å—Ç–∏–∫.
    } else if (score <= 5) {
        emoji = "‚ö†Ô∏è";       // –°–ª–∞–±–∫–∏–π - –∑–Ω–∞–∫ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è.
    } else if (score <= 7) {
        emoji = "‚úì";        // –°–µ—Ä–µ–¥–Ω—ñ–π - –≥–∞–ª–æ—á–∫–∞.
    } else if (score <= 8) {
        emoji = "‚úÖ";       // –ù–∞–¥—ñ–π–Ω–∏–π - –∑–µ–ª–µ–Ω–∞ –≥–∞–ª–æ—á–∫–∞.
    } else {
        emoji = "üåü";      // –î—É–∂–µ –Ω–∞–¥—ñ–π–Ω–∏–π - –∑—ñ—Ä–∫–∞.
    }

    return QString("%1 %2/10").arg(emoji).arg(score);
}

/**
 * @brief –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ–≤–Ω–æ–≥–æ HTML-–∑–≤—ñ—Ç—É.
 * @param result –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª—ñ–∑—É.
 * @return –ü–æ–≤–Ω–∏–π HTML-–∑–≤—ñ—Ç.
 *
 * –ì–æ–ª–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π –æ–±'—î–¥–Ω—É—î –≤—Å—ñ —Å–µ–∫—Ü—ñ—ó –∑–≤—ñ—Ç—É
 * —É —î–¥–∏–Ω–∏–π HTML-–¥–æ–∫—É–º–µ–Ω—Ç –∑ —Ç–µ–º–Ω–æ—é —Ç–µ–º–æ—é.
 *
 * –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Å–µ–∫—Ü—ñ–π:
 * 1. –û–±–≥–æ—Ä—Ç–∫–∞ div –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ —à—Ä–∏—Ñ—Ç—É —Ç–∞ –∫–æ–ª—å–æ—Ä—É.
 * 2. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–≤—ñ—Ç—É.
 * 3. –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è.
 * 4. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–∞—Ä–æ–ª—è.
 * 5. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ (—è–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ).
 * 6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó.
 * 7. –ü—Ä–∏–∫–ª–∞–¥–∏ (–¥–ª—è —Å–ª–∞–±–∫–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤).
 */
QString ReportGenerator::generateHTMLReport(const AnalysisResult& result) {
    QString report;

    // ============ –ü–æ—á–∞—Ç–æ–∫ HTML-–¥–æ–∫—É–º–µ–Ω—Ç—É ============
    report += "<div style='font-family: Segoe UI, Arial; color: #e0e0e0;'>";

    // ============ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–≤—ñ—Ç—É ============
    report += "<h2 style='color: #00CED1; border-bottom: 2px solid #00CED1; padding-bottom: 10px;'>";
    report += "–î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø–∞—Ä–æ–ª—è";
    report += "</h2>";

    // ============ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ–π –∑–≤—ñ—Ç—É ============
    report += generateGeneralInfo(result);
    report += generateCharacteristics(result);
    report += generatePersonalDataSection(result);
    report += generateRecommendations(result);
    report += generateExamples(result);

    // ============ –ó–∞–∫—Ä–∏—Ç—Ç—è HTML-–¥–æ–∫—É–º–µ–Ω—Ç—É ============
    report += "</div>";

    return report;
}

/**
 * @brief –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ—ó "–ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è".
 * @param result –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É –ø–∞—Ä–æ–ª—è.
 * @return HTML-–∫–æ–¥ —Å–µ–∫—Ü—ñ—ó.
 *
 * –°—Ç–≤–æ—Ä—é—î –±–ª–æ–∫ –∑ –æ—Å–Ω–æ–≤–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –ø–∞—Ä–æ–ª—å:
 * - –î–æ–≤–∂–∏–Ω–∞ –ø–∞—Ä–æ–ª—è –≤ —Å–∏–º–≤–æ–ª–∞—Ö.
 * - –ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º.
 * - –¢–µ–∫—Å—Ç–æ–≤–∏–π –æ–ø–∏—Å —Ä—ñ–≤–Ω—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ.
 */
QString ReportGenerator::generateGeneralInfo(const AnalysisResult& result) {
    QString section;

    // ============ –û–±–≥–æ—Ä—Ç–∫–∞ —Å–µ–∫—Ü—ñ—ó –∑ –±—ñ—Ä—é–∑–æ–≤–∏–º –≥—Ä–∞–¥—ñ—î–Ω—Ç–æ–º ============
    section += "<div style='background: linear-gradient(135deg, rgba(0, 206, 209, 0.1), rgba(0, 153, 153, 0.1)); ";
    section += "padding: 15px; border-radius: 10px; border-left: 4px solid #00CED1; margin: 15px 0;'>";

    // ============ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü—ñ—ó ============
    section += "<h3 style='color: #00E5E8; margin-top: 0;'>–ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h3>";

    // ============ –°–ø–∏—Å–æ–∫ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó ============
    section += "<ul style='line-height: 1.8;'>";

    // –î–æ–≤–∂–∏–Ω–∞ –ø–∞—Ä–æ–ª—è.
    section += QString("<li><b style='color: #00CED1;'>–î–æ–≤–∂–∏–Ω–∞ –ø–∞—Ä–æ–ª—è:</b> ");
    section += QString("<span style='color: #ffffff;'>%1 —Å–∏–º–≤–æ–ª—ñ–≤</span></li>").arg(result.length);

    // –ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ –∑ –∫–æ–ª—å–æ—Ä–æ–º –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ.
    section += QString("<li><b style='color: #00CED1;'>–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞:</b> ");
    section += QString("<span style='color: %1; font-weight: bold;'>%2/10</span> (%3)</li>")
                   .arg(UIStyleManager::getScoreColor(result.score).name())
                   .arg(result.score)
                   .arg(result.strengthLevel);

    section += "</ul>";
    section += "</div>";

    return section;
}

/**
 * @brief –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ—ó "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–∞—Ä–æ–ª—è".
 * @param result –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É –ø–∞—Ä–æ–ª—è.
 * @return HTML-–∫–æ–¥ —Å–µ–∫—Ü—ñ—ó.
 *
 * –°—Ç–≤–æ—Ä—é—î –¥–µ—Ç–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø–∞—Ä–æ–ª—è
 * –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ (‚úÖ/‚ùå).
 *
 * –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞—è–≤–Ω—ñ—Å—Ç—å:
 * - –í–µ–ª–∏–∫–∏—Ö –ª—ñ—Ç–µ—Ä (A-Z, –ê-–Ø).
 * - –ú–∞–ª–∏—Ö –ª—ñ—Ç–µ—Ä (a-z, –∞-—è).
 * - –¶–∏—Ñ—Ä (0-9).
 * - –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤ (!@#$%^&* —Ç–æ—â–æ).
 * - –°–ª–æ–≤–Ω–∏–∫–æ–≤–∏—Ö —Å–ª—ñ–≤ (–Ω–µ–±–∞–∂–∞–Ω–æ).
 * - –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π —Å–∏–º–≤–æ–ª—ñ–≤ (–Ω–µ–±–∞–∂–∞–Ω–æ).
 */
QString ReportGenerator::generateCharacteristics(const AnalysisResult& result) {
    QString section;

    // ============ –û–±–≥–æ—Ä—Ç–∫–∞ —Å–µ–∫—Ü—ñ—ó ============
    section += "<div style='background: linear-gradient(135deg, rgba(0, 206, 209, 0.08), rgba(0, 184, 186, 0.08)); ";
    section += "padding: 15px; border-radius: 10px; border-left: 4px solid #00B8BA; margin: 15px 0;'>";

    // ============ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü—ñ—ó ============
    section += "<h3 style='color: #00CED1; margin-top: 0;'>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–∞—Ä–æ–ª—è</h3>";

    // ============ –°–ø–∏—Å–æ–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∑ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ ============
    section += "<ul style='line-height: 1.8;'>";

    // –í–µ–ª–∏–∫—ñ –ª—ñ—Ç–µ—Ä–∏ - –∑–µ–ª–µ–Ω–∞ –≥–∞–ª–æ—á–∫–∞ —è–∫—â–æ —î, —á–µ—Ä–≤–æ–Ω–∏–π —Ö—Ä–µ—Å—Ç–∏–∫ —è–∫—â–æ –Ω–µ–º–∞—î.
    section += QString("<li>–í–µ–ª–∏–∫—ñ –ª—ñ—Ç–µ—Ä–∏: %1</li>")
                   .arg(result.hasUpperCase ?
                            "<span style='color: #10b981;'>‚úÖ –ü—Ä–∏—Å—É—Ç–Ω—ñ</span>" :
                            "<span style='color: #ef4444;'>‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ</span>");

    // –ú–∞–ª—ñ –ª—ñ—Ç–µ—Ä–∏.
    section += QString("<li>–ú–∞–ª—ñ –ª—ñ—Ç–µ—Ä–∏: %1</li>")
                   .arg(result.hasLowerCase ?
                            "<span style='color: #10b981;'>‚úÖ –ü—Ä–∏—Å—É—Ç–Ω—ñ</span>" :
                            "<span style='color: #ef4444;'>‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ</span>");

    // –¶–∏—Ñ—Ä–∏.
    section += QString("<li>–¶–∏—Ñ—Ä–∏: %1</li>")
                   .arg(result.hasDigits ?
                            "<span style='color: #10b981;'>‚úÖ –ü—Ä–∏—Å—É—Ç–Ω—ñ</span>" :
                            "<span style='color: #ef4444;'>‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ</span>");

    // –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏.
    section += QString("<li>–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏: %1</li>")
                   .arg(result.hasSpecialChars ?
                            "<span style='color: #10b981;'>‚úÖ –ü—Ä–∏—Å—É—Ç–Ω—ñ</span>" :
                            "<span style='color: #ef4444;'>‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ</span>");

    // –°–ª–æ–≤–Ω–∏–∫–æ–≤—ñ —Å–ª–æ–≤–∞ - —ñ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞ (–∫—Ä–∞—â–µ –∫–æ–ª–∏ —ó—Ö –Ω–µ–º–∞—î).
    section += QString("<li>–°–ª–æ–≤–Ω–∏–∫–æ–≤—ñ —Å–ª–æ–≤–∞: %1</li>")
                   .arg(result.hasDictionaryWords ?
                            "<span style='color: #ef4444;'>‚ùå –ó–Ω–∞–π–¥–µ–Ω–æ</span>" :
                            "<span style='color: #10b981;'>‚úÖ –ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ</span>");

    // –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ —Å–∏–º–≤–æ–ª—ñ–≤ - —ñ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞ (–∫—Ä–∞—â–µ –∫–æ–ª–∏ —ó—Ö –Ω–µ–º–∞—î).
    section += QString("<li>–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ —Å–∏–º–≤–æ–ª—ñ–≤: %1</li>")
                   .arg(result.hasSequences ?
                            "<span style='color: #ef4444;'>‚ùå –ó–Ω–∞–π–¥–µ–Ω–æ</span>" :
                            "<span style='color: #10b981;'>‚úÖ –ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ</span>");

    section += "</ul>";
    section += "</div>";

    return section;
}

/**
 * @brief –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ—ó "–í–∏—è–≤–ª–µ–Ω—ñ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ".
 * @param result –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É –ø–∞—Ä–æ–ª—è.
 * @return HTML-–∫–æ–¥ —Å–µ–∫—Ü—ñ—ó –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫ —è–∫—â–æ –¥–∞–Ω–∏—Ö –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.
 *
 * –Ø–∫—â–æ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –≤–∏—è–≤–∏–≤ —É –ø–∞—Ä–æ–ª—ñ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
 * (—ñ–º'—è, –ø—Ä—ñ–∑–≤–∏—â–µ, –¥–∞—Ç—É –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, —á–∞—Å—Ç–∏–Ω—É email),
 * —Å—Ç–≤–æ—Ä—é—î –ø–æ–ø–µ—Ä–µ–¥–∂—É–≤–∞–ª—å–Ω–∏–π –±–ª–æ–∫.
 *
 * –ë–ª–æ–∫ –≤–∫–ª—é—á–∞—î:
 * - –°–ø–∏—Å–æ–∫ –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
 * - –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–±–µ–∑–ø–µ–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö.
 */
QString ReportGenerator::generatePersonalDataSection(const AnalysisResult& result) {
    // –Ø–∫—â–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –Ω–µ –≤–∏–≤–æ–¥–∏–º–æ —Å–µ–∫—Ü—ñ—é.
    if (result.personalDataFound.isEmpty()) {
        return "";
    }

    QString section;

    // ============ –û–±–≥–æ—Ä—Ç–∫–∞ –ø–æ–ø–µ—Ä–µ–¥–∂—É–≤–∞–ª—å–Ω–æ–≥–æ –±–ª–æ–∫—É (—á–µ—Ä–≤–æ–Ω–∏–π) ============
    section += "<div style='background: rgba(239, 68, 68, 0.15); ";
    section += "padding: 15px; border-radius: 10px; border-left: 4px solid #ef4444; margin: 15px 0;'>";

    // ============ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑ –µ–º–æ–¥–∂—ñ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è ============
    section += "<h3 style='color: #fca5a5; margin-top: 0;'>";
    section += "‚ö†Ô∏è –í–ò–Ø–í–õ–ï–ù–û –ü–ï–†–°–û–ù–ê–õ–¨–ù–Ü –î–ê–ù–Ü";
    section += "</h3>";

    // ============ –°–ø–∏—Å–æ–∫ –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö ============
    section += "<ul style='color: #fca5a5; line-height: 1.8;'>";

    // –í–∏–≤–æ–¥–∏–º–æ –∫–æ–∂–µ–Ω –∑–Ω–∞–π–¥–µ–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
    for (const QString& data : result.personalDataFound) {
        section += QString("<li><b>%1</b></li>").arg(data);
    }

    section += "</ul>";

    // ============ –§—ñ–Ω–∞–ª—å–Ω–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–±–µ–∑–ø–µ–∫—É ============
    section += "<p style='color: #fca5a5; font-weight: bold; ";
    section += "background: rgba(239, 68, 68, 0.2); padding: 10px; border-radius: 8px;'>";
    section += "‚ö†Ô∏è –ù–ï–ë–ï–ó–ü–ï–ß–ù–û! –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö —Ä–æ–±–∏—Ç—å –ø–∞—Ä–æ–ª—å –ª–µ–≥–∫–æ –≤—Ä–∞–∑–ª–∏–≤–∏–º!";
    section += "</p>";

    section += "</div>";

    return section;
}

/**
 * @brief –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ—ó "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è".
 * @param result –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É –ø–∞—Ä–æ–ª—è.
 * @return HTML-–∫–æ–¥ —Å–µ–∫—Ü—ñ—ó.
 *
 * –°—Ç–≤–æ—Ä—é—î –Ω—É–º–µ—Ä–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π
 * –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ –ø–∞—Ä–æ–ª—è.
 *
 * –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –≤ PasswordAnalyzer –Ω–∞ –æ—Å–Ω–æ–≤—ñ
 * –≤–∏—è–≤–ª–µ–Ω–∏—Ö —Å–ª–∞–±–∫–∏—Ö –º—ñ—Å—Ü—å –ø–∞—Ä–æ–ª—è:
 * - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
 * - –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—è –¥–æ–≤–∂–∏–Ω–∞.
 * - –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Å–∏–º–≤–æ–ª—ñ–≤.
 * - –ù–∞—è–≤–Ω—ñ—Å—Ç—å —Å–ª–æ–≤–Ω–∏–∫–æ–≤–∏—Ö —Å–ª—ñ–≤.
 * - –ù–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç–µ–π.
 */
QString ReportGenerator::generateRecommendations(const AnalysisResult& result) {
    QString section;

    // ============ –û–±–≥–æ—Ä—Ç–∫–∞ —Å–µ–∫—Ü—ñ—ó ============
    section += "<div style='background: linear-gradient(135deg, rgba(0, 206, 209, 0.1), rgba(0, 184, 186, 0.1)); ";
    section += "padding: 15px; border-radius: 10px; border-left: 4px solid #009999; margin: 15px 0;'>";

    // ============ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü—ñ—ó ============
    section += "<h3 style='color: #00E5E8; margin-top: 0;'>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è</h3>";

    // ============ –ù—É–º–µ—Ä–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π ============
    section += "<ol style='line-height: 2;'>";

    // –í–∏–≤–æ–¥–∏–º–æ –∫–æ–∂–Ω—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—é —è–∫ –æ–∫—Ä–µ–º–∏–π –ø—É–Ω–∫—Ç —Å–ø–∏—Å–∫—É.
    for (const QString& recommendation : result.recommendations) {
        section += QString("<li>%1</li>").arg(recommendation);
    }

    section += "</ol>";
    section += "</div>";

    return section;
}

/**
 * @brief –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ—ó "–ü—Ä–∏–∫–ª–∞–¥–∏ –Ω–∞–¥—ñ–π–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤".
 * @param result –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É –ø–∞—Ä–æ–ª—è.
 * @return HTML-–∫–æ–¥ —Å–µ–∫—Ü—ñ—ó –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫ –¥–ª—è –Ω–∞–¥—ñ–π–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤.
 *
 * –î–ª—è –ø–∞—Ä–æ–ª—ñ–≤ –∑ –æ—Ü—ñ–Ω–∫–æ—é –Ω–∏–∂—á–µ 7 –±–∞–ª—ñ–≤ –ø–æ–∫–∞–∑—É—î –ø—Ä–∏–∫–ª–∞–¥–∏
 * –Ω–∞–¥—ñ–π–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ —Ç—Ä—å–æ—Ö —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤:
 *
 * 1. –í–∏–ø–∞–¥–∫–æ–≤–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è - –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–ø–∞–¥–∫–æ–≤—ñ —Å–∏–º–≤–æ–ª–∏ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤.
 * 2. –ü–∞—Ä–æ–ª—å–Ω–∞ —Ñ—Ä–∞–∑–∞ (diceware) - –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Å–ª—ñ–≤.
 * 3. –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ - –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–∞ —Ñ—Ä–∞–∑–∞ –∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è–º–∏.
 *
 * –î–ª—è –ø–∞—Ä–æ–ª—ñ–≤ –∑ –æ—Ü—ñ–Ω–∫–æ—é >= 7 –±–∞–ª—ñ–≤ —Å–µ–∫—Ü—ñ—è –Ω–µ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è,
 * –æ—Å–∫—ñ–ª—å–∫–∏ —Ç–∞–∫—ñ –ø–∞—Ä–æ–ª—ñ –≤–∂–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –Ω–∞–¥—ñ–π–Ω—ñ.
 */
QString ReportGenerator::generateExamples(const AnalysisResult& result) {
    // –î–ª—è –Ω–∞–¥—ñ–π–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤ (–æ—Ü—ñ–Ω–∫–∞ >= 7) –Ω–µ –ø–æ–∫–∞–∑—É—î–º–æ –ø—Ä–∏–∫–ª–∞–¥–∏.
    if (result.score >= 7) {
        return "";
    }

    QString section;

    // ============ –û–±–≥–æ—Ä—Ç–∫–∞ —Å–µ–∫—Ü—ñ—ó (–∑–µ–ª–µ–Ω–∏–π –∫–æ–ª—ñ—Ä = –±–µ–∑–ø–µ–∫–∞) ============
    section += "<div style='background: rgba(16, 185, 129, 0.1); ";
    section += "padding: 15px; border-radius: 10px; border-left: 4px solid #10b981; margin: 15px 0;'>";

    // ============ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü—ñ—ó ============
    section += "<h3 style='color: #6ee7b7; margin-top: 0;'>–ü—Ä–∏–∫–ª–∞–¥–∏ –Ω–∞–¥—ñ–π–Ω–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤</h3>";

    // ============ –°–ø–∏—Å–æ–∫ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ ============
    section += "<ul style='font-family: monospace; line-height: 1.8;'>";

    // –ü—Ä–∏–∫–ª–∞–¥ 1: –í–∏–ø–∞–¥–∫–æ–≤–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è —Å–∏–º–≤–æ–ª—ñ–≤.
    section += "<li>";
    section += "<code style='background: rgba(0, 206, 209, 0.2); padding: 5px 10px; ";
    section += "border-radius: 5px; color: #00CED1;'>T#9kL$mP2@xQ7wN!</code>";
    section += " - –≤–∏–ø–∞–¥–∫–æ–≤–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è";
    section += "</li>";

    // –ü—Ä–∏–∫–ª–∞–¥ 2: –ü–∞—Ä–æ–ª—å–Ω–∞ —Ñ—Ä–∞–∑–∞ (diceware –º–µ—Ç–æ–¥).
    section += "<li>";
    section += "<code style='background: rgba(0, 206, 209, 0.2); padding: 5px 10px; ";
    section += "border-radius: 5px; color: #00CED1;'>Correct-Horse-Battery-Staple-42!</code>";
    section += " - –ø–∞—Ä–æ–ª—å–Ω–∞ —Ñ—Ä–∞–∑–∞";
    section += "</li>";

    // –ü—Ä–∏–∫–ª–∞–¥ 3: –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (–∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–∞ —Ñ—Ä–∞–∑–∞ + —Å–∏–º–≤–æ–ª–∏).
    section += "<li>";
    section += "<code style='background: rgba(0, 206, 209, 0.2); padding: 5px 10px; ";
    section += "border-radius: 5px; color: #00CED1;'>My$3cureP@ssw0rd!2025</code>";
    section += " - –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥";
    section += "</li>";

    section += "</ul>";
    section += "</div>";

    return section;
}
